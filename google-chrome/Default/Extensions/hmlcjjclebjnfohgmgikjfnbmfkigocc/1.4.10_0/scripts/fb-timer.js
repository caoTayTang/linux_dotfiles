"use strict";!function(t){var e={totalSec:0,lastTimestamp:0,el:null,isHidden:!1,initiate:function(){var t=this,e=document.createElement("div");e.title="Click to hide, F5 to show again. You can also disable this feature in the extension (J2TEAM Security) options.",e.id="j2team_fb_timer",e.style.cssText="position: fixed;bottom: 52px;left: 15px;text-shadow: 2px 2px 8px rgba(150, 150, 150, 0.9);color: #fff;padding: 5px 8px;background-color: #000;border-radius: 10px;opacity: 0.7;font-size: 18px;",null!==document.querySelector("#facebook.__fb-dark-mode")&&(e.style.color="rgb(0 255 78)"),this.el=document.createElement("span"),this.el.classList.add("j2team_timer"),this.el.textContent="00:00:00",e.appendChild(this.el),document.body.appendChild(e),e.addEventListener("click",function(){e.style.display="none",t.isHidden=!0}),this.loaded()},loaded:function(){var i=this;t.storage.local.get({fb_timer_second:null,fb_timer_date:null},function(t){var o=1+parseInt(t.fb_timer_second);i.totalSec=o||0,i.lastTimestamp=t.fb_timer_date||i.getTimestamp(),i.track(),i.autoSave(),window.addEventListener("unload",e.autoSave.bind(e),!1)})},track:function(){var t=void 0;(t=this.getTimestamp())!==this.lastTimestamp&&(this.totalSec=0),this.totalSec++,this.lastTimestamp=t,this.update(),this.isHidden||window.setTimeout(e.track.bind(e),1e3)},update:function(){var t=void 0,e=void 0,i=void 0;t=Math.floor(this.totalSec/3600),e=Math.floor((this.totalSec-3600*t)/60),i=this.totalSec-60*e-3600*t,t<10&&(t="0"+t),e<10&&(e="0"+e),i<10&&(i="0"+i),this.el.textContent=t+":"+e+":"+i},getTimestamp:function(){var t=new Date;return[t.getFullYear(),t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,t.getDate()<10?"0"+t.getDate():t.getDate()].join("")},autoSave:function(){try{t.storage.local.set({fb_timer_second:this.totalSec,fb_timer_date:this.lastTimestamp})}catch(i){}window.setTimeout(e.autoSave.bind(e),3e4)}};t.storage.sync.get({show_facebook_time_counter:!1},function(t){t.show_facebook_time_counter&&e.initiate()})}(chrome);